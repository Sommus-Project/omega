# Omega Updated History:

| Date | Author | Ver | Description |
| - | - | - | - |
| 2021-04-06 | Mike Collins | 0.9.4 | * Fixed the Change Password dialog to properly receive the dialogEl so it can set error messages.<br/>* Brought this file up to date.<br/>* Removed `console.log`<br/>* Get change password dialog to refresh screen when done. |
| 2021-03-29 | Mike Collins | 0.9.3 | * Change Password dialog now outputs errors in the dialog instead of using the `alert()` operation.<br/>* the action handler now walks up the parent tree until it finds a node that has an `action` attribute. This allows `buttons`, or anything else to have children and still work. |
| 2021-03-23 | Mike Collins | 0.9.2 | * Fixed the cookies sent by the login process to only send `secure` if we are connected via HTTPS. |
| 2021-03-23 | Mike Collins | 0.9.1 | * Allow the usage logs to be turned off and output will go to console. |
| 2021-03-09 | Mike Collins | 0.9.0 | * Updated `.eslintrc.json` to handle newer version of ECMASCRIPT.<br/>* Updated minimum required version of node.js to 14.10<br/>* Auto loading environment variables from file `_env.js`<br/>* Integrated all of the new Directory Service and user management code<br/>* Changed the original directory service to only handle a single domain.<br/>* Added SQL files for creating the minimal database needed for Omega users/groups/roles<br/>* Updated all repos</br>* Temporarily disabled all tests.<br/>* Added rest endpoints for all things user and group.<br/>* Fixed `Rest` to get the correct BYTE size for strings instead of string length<br/>* Now using JWT for session cookie.<br/>* Added *Action Handler* and *Basic Dialog* code.<br/>* Included a Login dialog and a Change Password dialog.<br/>* Added a basic Omega test app. |
| 2020-09-04 | Mike Collins | 0.1.0 | * Added author.ejs - Not sure why this was added. |
| 2020-05-24 | Mike Collins | 0.0.4 | * Updated `forceSecure` to handle the Heroku environment.<br/>* Updated the error page to be more generic. |
| 2020-03-04 | Mike Collins | 0.0.3 | * Added "og" meta tags for Facebook, Twitter, etc. |
| 2020-02-27 | Mike Collins | 0.0.2 | * Updated Rest to use a buffer to allow image and binary downloads<br/>* Updated dependencies |
| 2019-11-25 | Mike Collins | 4.0.2 | * (PS-1296) Corrected `requestId` to be `requestID` in the usage logs.<br/>* Updating Version<br/>* Updated dependencies<br/>* Updating UPDATES.md |
| 2019-11-11 | Mike Collins | 4.0.1 | * Adding `X-Forwarded-Host` header<br/>* Updating Version<br/>* Updating UPDATES.md |
| 2019-09-06 | Mike Collins | 4.0.0 | * **BREAKING** This version of `black-listed-proxy` is incompatible with older formats.<br />* Moved several functions out into their own files<br />* Added lots of new Unit tests to bring the numbers back to over 80%<br />* Changes black-listed-proxy to take a list of do and dont proxy paths.<br />* Added QueryString param (trackProxy=1|0) to turn on/off the extra proxy tracking headers<br />* Removed unused code<br />* Added `isString` and `isRegExp` functions<br />* Proxy is now **off** by default<br />* Added config option for a server name. Defaults to "Omega/<ver>" where "<ver>" is the version of Omega that is running.<br />* Added a `proxyPreCallback` to allow configuration values to be modified before sending the Proxy request.<br />* Migrated the code to merge the contents of `app.config.json` from Imat into Omega and Improved what/how it imports and merges.<br />* Added several `istanbul` declarations for things that do not need to be tested.<br />* Adding the new UsageLog for all endpoint calls.<br />* Cleaned up the error page to use the correct URLs for the logo and favicon.<br/>* Updated all 3rd party libraries.<br/>* Either `httpPort` or `httpsPort` can be set to `false`, which will prevent the server from listening on either the http port or the https port.<br/>* Added ability to indicate that an API function has been deprecated.<br/>* Added `app.set('trust proxy', 'loopback');` |
| 2019-07-25 | Mike Collins | 3.4.0 | * Added domain name redirect ability.<br />* Added usage logging code for use, especially, for the APIs. |
| 2019-07-01 | Mike Collins | 3.3.2 | * Fixed the loading of the static asset list to include assets found in the App and Omega. |
| 2019-06-26 | Mike Collins | 3.3.1 | * Fixed Proxy to remove the `connection` header on responses.<br />* Corrected the `host` value in the Rest object. |
| 2019-06-21 | Jeremy Workman | 3.2.13 | * Updated to latest omegatools to fix version check. |
| 2019-06-14 | Mike Collins | 3.2.12 | * Updated `black-list-proxy.js` to pass in `req` and `options` into the `postCallback` function.<br />* Updated the `README.md` file to include information about `proxyPostCallback`.<br />* Updated versions of: `express-session` and `eslint-plugin-omega` |
| 2019-06-13 | Jeremy Workman | 3.2.11 | * Updated version of OmegaTools. |
| 2019-06-10 | Mike Collins | 3.2.10 | * Properly pass in the `postCallback` Option into the proxy code.<br/>*Updated version of OmegaTools. |
| 2019-06-10 | Mike Collins | 3.2.9 | * Separated `docs/UPDATES.md` from `README.md`<br/>* Fixing `X-Forwarded-For` header to follow spec.<br/>* Added `postCallback` option for `black-list-proxy` |
| 2019-06-05 | Mike Collins | 3.2.8 | * Updated npm package versions<br/>* Added test app for future acceptance testing. |
| 2019-06-04 | Mike Collins | 3.2.7 | * Adding `X-UI-Request-Id` header to all proxy requests. |
| 2019-05-30 | Jeremy Workman | 3.2.6 | * Updated library versions. |
| 2019-05-30 | Jeremy Workman | 3.2.5 | * Removed check on run to validate library versions. |
| 2019-05-29 | Jeremy Workman | 3.2.4 | * Added check on run to validate library versions match consuming app package.json. |
| 2019-05-27 | Jeremy Workman | 3.2.3 | * Added documentation for Rest object.<br/>* Updated OmegaTools version. |
| 2019-05-24 | Jeremy Workman | 3.2.2 | * Added ability to tag stability of api endpoint apis.<br/>* Minor style updates. |
| 2019-05-24 | Mike Collins | 3.2.1 | * Added a common http(s) agent to all rest calls and all proxy calls for Keep-alive.<br/>* Updated `EntityCreated` and its tests.<br/>* Added DOCs for `EntityCreated`.<br/>* Corrected Spelling errors in some DOCs. |
| 2019-05-23 | Jeremy Workman | 3.2.0 | * Added ability to call a callback when the response from `req.rest` returns, but before any response data exists.<br/>* Added tests for new response callback. |
| 2019-05-14 | Mike Collins | 3.1.4 | * Converted the User data acquisition to be promise based and cached to prevent the system from getting hammered.<br/>* Changed from `/dev` to `/system`. Added homepage and status page.<br/>* Correctly use and pass the authtoken headers if available<br/>* Attempting to add Keep-Alive for Proxy calls |
| 2019-05-13 | Mike Collins | 3.1.3 | * Improved logging by allowing files to break up by size and an option to not log at all.<br/>* Updated version of OmegaTools. |
| 2019-05-06 | Mike Collins | 3.1.2 | * Removed AMD loading to get `require` to properly work in IE11<br/>* added lots of older comments into this history |
| 2019-05-03 | Mike Collins | 3.1.1 | * Updated to use latest version of Omega Tools |
| 2019-05-01 | Mike Collins | 3.1.0 | * Binding to specific versions of OmegaTools and OmegaLib<br/>* Added `app.locals.proxyHost` and `app.locals.proxyPort`<br/>* Better support for `doGet`, etc. in addition to `getList`, etc.<br/>* Fixed tests to work with `doGet` instead of `getList` |
| 2019-04-25 | Mike Collins | 3.0.10 | * Converted from custom Markdown convert code to using `Markdown-in`<br/>* Updated some of the CSS to handle the way `Markdown-it` generates its code.<br/>* Minor doc changes |
| 2019-04-24 | Mike Collins | 3.0.9 | * Updated to newest OmegaTools and OmegaLib. |
| 2019-04-22 | Mike Collins | 3.0.8 | * Updated repos: OmegaLib, OmegaTools, custom-element, express-session, micromatch, eslint and mocha<br/>* Updated `apiSystem` to handle new format for endpoints that will remove the single-file, duel-path structure into single-file, single-path structure.<br/>* Added `attrEsc` function to escape an attribute value.<br/>* Added `EntityCreated` class.<br/>* Removed old code that has been commented out for a while and is no longer needed.<br/>* Removed the color output from the `Rest` processes.<br/>* Added EntityCreated.js for future use. |
| 2019-04-16 | Mike Collins | 3.0.7 | * Added response milliseconds to logs<br/>* Better handle bold and italic in Docs<br/>* Added a faster 404 for APIs<br/>* Added `res.locals.debugKeys` for QS like `?debug=a,b,c` |
| 2019-04-01 | Mike Collins | 3.0.6 | * Updated several NPM module versions<br/>* Updated to have DOCs on by default |
| 2019-03-27 | Mike Collins | 3.0.5 | * Upgraded to latest Omega Tools |
| 2019-03-15 | Mike Collins | 3.0.4 | * Renamed `errorPage` to `errorpage` to match the file system.<br/>* Updated tests to expect `errorpage` and not `errorPage`.<br/>* Added first draft of the documentation of how to document the APIs.<br/>* Removed `supertest` which we were not using. |
| 2019-03-14 | Mike Collins | 3.0.3 | * Adding more Polyfills<br/>* Adding initial Polyfill tests<br/>* Fixed the black-list for the proxy to also prevent `/api` from being proxied.<br/>* Added more debug statements<br/>* Initial output endpoint for the new Docs<br/>* Updated the version for getBrowserNeeds. |
| 2019-02-21 | Mike Collins | 3.0.2 | * Added initial draft of `docs/apifiles.md`<br/>* Added some TODOs related to the API system to track the length of time spend on each API call.<br/>* Improved/Cleaned up Docs |
| 2019-02-19 | Mike Collins | 3.0.1 | * Updated docs to match codebase |
| 2019-02-18 | Mike Collins | 3.0.0 | * converted all repos form `omega...` to `@imat/omega...`<br/>* Added `isTrue()` and `isFalse()` functions into API system<br/>* Added `dbFactory` to allow creation of a set of `req.db` objects.<br/>* Updated dependencies |
| 2019-01-21 | Mike Collins | 2.0.0 | * Updated eslint to allow complexity of 10 instead of 8<br/>* Updated version number to 2.0.0<br/>* No longer passing in the session ID for `new Rest()`.<br/>* Now the app calls `req.rest.trackingId = 'something'`<br/>* Updated Rest logging to use the `trackingId`<br/>* Provided ability for the app to be able to add any headers or cookies for all usage of `req.rest`<br/>* initApp no longer passes the sessionId since that is now the responsibility of the app.<br/>* Added more tests to validate new code and some that was not yet validated. |
| 2019-01-18 | Mike Collins | 1.0.8 | * Adding ability to pass in username to allow use of that for tracking in output logs. |
| 2019-01-16 | Mike Collins | 1.0.7 | * Cleaned up the destroy code<br/>* The Rest class does not worry about the Sender class since those will be released as soon as the user code is finished with it. |
| 2019-01-16 | Mike Collins | 1.0.6 | * Updating versions of dependencies.<br/>* Updated some polyfills |
| 2019-01-16 | Mike Collins | 1.0.5 | * Handle `null` and `undefined` as an empty string in POST data<br/>* Properly use case-independent headers in Rest<br/>* Make sure that we properly encode send data in Rest<br/>* Always calculate the size of the send data in Rest<br/>* Updated tests to match changes and to test newer code in Rest |
| 2019-01-10 | Mike Collins, Richard Frost | 1.0.4 | * Added comments and `debug` output statements<br/>* Added the fonts folder into the static folders<br/>* Fixed Gitlab Runner code |
| 2018-12-21 | Mike Collins | 1.0.3 | * Fixed check for static files to be more limiting |
| 2018-12-21 | Mike Collins | 1.0.2 | * Updated package-lock to current versions |
| 2018-12-21 | Mike Collins, Richard Frost | 1.0.1 | * Migrate to new gitlab server<br/>* Adding API Test Mocks<br/>* Exposing a new `loadapi` function to use in tests that will load an API file.<br/>* Updated 3rd-party repos: `debug`, `ejs-mate`, `eslint` and `less`<br/>* `apiLoader` can now use NYC to instrument the API files that it loads to allow for proper coverage reporting<br/>* `apiLoader` emulates what `proxyquire` does and allows an API file to load mock files through `require`<br/>* The file `Rest.js` now supports a Mock version of `Rest` for use in tests. Instead of directly using `http` and `https` they are now defined by `Rest` and `Rest.mock` so the tests work correctly in a mock environment.<br/>* Added tests for `Rest` and `Rest.mock`<br/>* `MockHttp`, `MockRestExpect` and `MockRestRespond` support the ability to mock the `Rest` functionality. |
| 2018-12-21 | Mike Collins, Richard Frost | 1.0.1 | * Getting Gitlab runners working<br/>* Updated repos |
| 2018-12-21 | Mike Collins | 1.0.0 | * Ready for first imat-based deploy<br/>* Fix API loader to not escape `\` into `\\` |
| 2018-11-26 | Mike Collins | | * Changed after migrating some data to Omega-Lib and Omega-Tools.<br/>* Updated the available `options` |
| 2018-08-13 | Mike Collins | 0.0.1 | * Initial Draft |
